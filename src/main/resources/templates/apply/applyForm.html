<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout1}">

<th:block layout:fragment="css">
	<style>
	.board {
	width: 900px;
	margin: 0 auto;
}
	
	.btn {
	border-radius: 5px;
}
</style>
</th:block>

<div layout:fragment="content" class="board">

	<div class = "d-flex justify-content-center">
		<!-- 반복 Start -->
		<div class="card" style="width: 18rem;" th:each="qna : ${subjects}">
			<img th:src="@{/img/EZEN.PNG}" class="card-img-top" alt="...">
			<div class="card-body">
				<h5 class="card-title" th:text="${subject.subjectName}"></h5>
				<p class="card-text" th:text="${subject.content}"></p>
				<a href="#" class="btn btn-outline-secondary"
				onclick="pagemove1()">상세보기</a>
			</div>
		</div>
		<!-- 반복 End -->

	</div>
		<div
			th:with="start=${(subjects.number/maxPage)*maxPage + 1}, end=(${(subjects.totalPages == 0) ? 1 : (start + (maxPage - 1) < subjects.totalPages ? start + (maxPage - 1) : subjects.totalPages)})">
			<ul class="pagination justify-content-center">

				<li class="page-item"
					th:classappend="${subjects.number eq 0}?'disabled':''"><a
					th:href="@{'/apply/new' + ${subjects.number-1}}"
					aria-label='Previous' class="page-link"> <span
						aria-hidden='true'>이전</span></a></li>

				<li class="page-item"
					th:each="page: ${#numbers.sequence(start, end)}"
					th:classappend="${subjects.number eq page-1}?'active':''"><a
					th:href="@{'/apply/new' + ${page-1}}" th:inline="text"
					class="page-link">[[${page}]]</a></li>

				<li class="page-item"
					th:classappend="${subjects.number+1 ge subjects.totalPages}?'disabled':''">
					<a th:href="@{'/apply/new' + ${subjects.number+1}}"
					aria-label='Next' class="page-link"> <span aria-hidden='true'>다음</span>
				</a>
				</li>

			</ul>
		</div>
	  <div class="d-flex justify-content-end">
			<!--★onclick으로 효과주기★-->
			<button type="button" class="btn btn-outline-secondary"
				onclick="pagemove2()">과목 등록</button>
		</div>

</div>

<th:block layout:fragment="script">
	<script th:inline="javascript">
	function pagemove1() {

		location.href = "";
	}
	function pagemove2() {

		location.href = "/apply/regist";
	}
	</script>
</th:block>

</html>